<!DOCTYPE html>

<!--  
   GLmol - Molecular Viewer on WebGL/Javascript 

   (C) Copyright 2011, biochem_fan

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Lesser General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.

    This program uses
      Three.js 
         https://github.com/mrdoob/three.js
         Copyright (c) 2010-2011 three.js Authors. All rights reserved.
      jQuery
         http://jquery.org/
         Copyright (c) 2011 John Resig
-->

<html>
<head>
 <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, target-densitydpi=device-dpi">

 <meta charset="utf-8">
 
 <title>GLmol embedding examples</title>
 <style type="text/css">
 </style>
</head>

<body>
<h1>GLmol embedding examples</h1>
<p>You can embed multiple instances of GLmol in a page. Molecular representations can be customized by Javascript. For the details, please examine the source code of this page. If it is not clear, don't hesitate to ask me (biochem_fan at users.sourceforge.jp).</p>

<p>Rotation: left button, Translation: middle button or Ctrl-key + left button, Zoom: Wheel or right button(up/down) or Shift-key + left button(up/down)</p>

<h2>Embedding Protein with customized representation</h2>

<p>The following model is horse deoxyhaemoglobin(Adapted from PDB <a href="http://www.rcsb.org/pdb/explore/explore.do?structureId=2dhb">2DHB</a>).</p>

<p>The Iron atom (colored <span style="color: #cc7722">ocher</span>) is coordinated by five nitrogen atoms (colored <span style="color: #0000ff">blue</span>); four from a heme and one from a histidine residue in the protein. When oxidized, an oxygen molecule binds at the opposite side of the histidine as another axial ligand.</p>

<div id="glmol01" style="width: 500px; height: 400px; background-color: black;"></div> <textarea id="glmol01_src" style="display: none;">
  
</textarea>

<p>WARNING: This example loads a PDB file located on this server by
XmlHttpRequest. Due to
the <a href="http://en.wikipedia.org/wiki/Same_origin_policy">same-origin-policy</a>,
this example will not work when saved to your local disk. GLmol can
load coordinate files located on the same Web server (not local
filesystem) as the HTML itself or Ajax-enabled servers (like PubChem,
RCSB PDB).</p>

<script src="js/jquery-1.7.min.js"></script>
<script src="js/Three49custom.js"></script>
<script type="text/javascript" src="js/GLmol.js"></script>
<script type="text/javascript">


// Proteins can also be embedded in the page but 
//  you might want to keep it separate.

var glmol01 = new GLmol('glmol01', true);
glmol01.defineRepresentation = function() {
   var all = this.getAllAtoms();
   var hetatm = this.removeSolvents(this.getHetatms(all));
   this.colorByAtom(all, {});
   this.colorByChain(all);
   var asu = new THREE.Object3D();
   
/*   this.drawBondsAsStick(asu, hetatm, this.cylinderRadius, this.cylinderRadius);
*//*   this.drawBondsAsStick(asu, this.getResiduesById(this.getSidechains(this.getChain(all, ['A'])), [58, 87]), this.cylinderRadius, this.cylinderRadius);
*/   this.drawCartoon(asu, all, this.curveWidth, this.thickness);

   this.drawSymmetryMates2(this.modelGroup, asu, this.protein.biomtMatrices);
   this.modelGroup.add(asu);
};

$.get("2N0S.pdb", function(ret) {
$("#glmol01_src").val(ret);
glmol01.loadMolecule();
});
</script>

<hr style="clear: both;">
<p><a href="http://sourceforge.jp/"><img src="http://sourceforge.jp/sflogo.php?group_id=6386&type=1" width="96" height="31" border="0" alt="SourceForge.JP"></a>
<br>(C) Copyright 2011 biochem_fan (biochem_fan at users.sourceforge.jp). <br>
This program is released under LGPL3.</p>
</body></html>
